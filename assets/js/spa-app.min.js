"use strict";var _typeof6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof5="function"==typeof Symbol&&"symbol"===_typeof6(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof6(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof6(e)},_typeof4="function"==typeof Symbol&&"symbol"===_typeof5(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof5(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof5(e)},_typeof3="function"==typeof Symbol&&"symbol"===_typeof4(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof4(e)},_typeof2="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof3(e)},_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof2(e)};!function(r){Vue.component("wpuf-table",{template:"#tmpl-wpuf-component-table",mixins:[weForms.mixins.Loading,weForms.mixins.Paginate,weForms.mixins.BulkAction],props:{has_export:String,action:String,delete:String,id:[String,Number],status:[String]},data:function(){return{loading:!1,columns:[],items:[],ajaxAction:this.action,nonce:weForms.nonce,index:"id",bulkDeleteAction:this.delete?this.delete:"weforms_form_entry_trash_bulk"}},created:function(){this.fetchData()},computed:{columnLength:function(){return Object.keys(this.columns).length}},methods:{fetchData:function(){var t=this;this.loading=!0,wp.ajax.send(t.action,{data:{id:t.id,page:t.currentPage,status:t.status,_wpnonce:weForms.nonce},success:function(e){t.loading=!1,t.columns=e.columns,t.items=e.entries,t.form_title=e.form_title,t.totalItems=e.pagination.total,t.perPage=e.pagination.per_page,t.totalPage=e.pagination.pages,t.$emit("ajaxsuccess",e)},error:function(e){t.loading=!1,alert(e)}})},handleBulkAction:function(){if("-1"!==this.bulkAction){if("delete"===this.bulkAction){if(!this.checkedItems.length)return void alert("Please select atleast one entry to delete.");confirm("Are you sure to delete the entries?")&&this.deleteBulk()}if("restore"===this.bulkAction){if(!this.checkedItems.length)return void alert("Please select atleast one entry to restore.");this.restoreBulk()}}else alert("Please chose a bulk action to perform")},restore:function(e){var t=this;t.loading=!0,wp.ajax.send("weforms_form_entry_restore",{data:{entry_id:e,_wpnonce:weForms.nonce},success:function(e){t.loading=!1,t.fetchData()},error:function(e){t.loading=!1,alert(e)}})},deletePermanently:function(e){if(confirm("Are you sure to delete this entry?")){var t=this;t.loading=!0,wp.ajax.send("weforms_form_entry_delete",{data:{entry_id:e,_wpnonce:weForms.nonce},success:function(e){t.loading=!1,t.fetchData()},error:function(e){t.loading=!1,alert(e)}})}}},watch:{id:function(){this.fetchData()},status:function(){this.currentPage=1,this.bulkAction=-1,this.fetchData()}}}),weForms.routeComponents.Entries={template:"#tmpl-wpuf-entries",data:function(){return{selected:0,forms:{},form_title:"Loading...",status:"publish",total:0,totalTrash:0}},created:function(){this.get_forms()},methods:{get_forms:function(){var t=this;wp.ajax.send("weforms_form_list",{data:{_wpnonce:weForms.nonce,page:t.currentPage,posts_per_page:-1,filter:"entries"},success:function(e){Object.keys(e.forms).length?(t.forms=e.forms,t.selected=t.forms[Object.keys(t.forms)[0]].id):t.form_title="No entry found"},error:function(e){alert(e)}})}}},weForms.routeComponents.FormEditComponent={template:"#tmpl-wpuf-form-builder",mixins:wpuf_form_builder_mixins(wpuf_mixins.root),data:function(){return{is_form_saving:!1,is_form_saved:!1,is_form_switcher:!1,post_title_editing:!1,loading:!1,activeTab:"editor",activeSettingsTab:"form",activePaymentTab:"paypal"}},watch:{loading:function(e){e?(NProgress.configure({parent:"#wpadminbar"}),NProgress.start()):NProgress.done()},form_fields:{handler:function(){window.weFormsBuilderisDirty=!0},deep:!0},notifications:{handler:function(){window.weFormsBuilderisDirty=!0},deep:!0},integrations:{handler:function(){window.weFormsBuilderisDirty=!0},deep:!0},settings:{handler:function(){window.weFormsBuilderisDirty=!0},deep:!0},payment:{handler:function(){window.weFormsBuilderisDirty=!0},deep:!0}},created:function(){this.set_current_panel("form-fields"),this.fetchForm(),this.$store.commit("panel_add_show_prop"),wpuf_form_builder.event_hub=new Vue},computed:{current_panel:function(){return this.$store.state.current_panel},post:function(){return this.$store.state.post},form_fields_count:function(){return this.$store.state.form_fields.length},form_fields:function(){return this.$store.state.form_fields},notifications:function(){return this.$store.state.notifications},integrations:function(){return this.$store.state.integrations},settings:function(){return this.$store.state.settings},payment:function(){return this.$store.state.payment}},mounted:function(){var e=new window.Clipboard(".form-id");r(".form-id").tooltip();var t=this;this.started=!0,e.on("success",function(e){r(e.trigger).attr("data-original-title","Copied!").tooltip("show"),setTimeout(function(){r(e.trigger).tooltip("hide").attr("data-original-title",t.i18n.copy_shortcode)},1e3),e.clearSelection()}),this.initSharingClipBoard(),setTimeout(function(){window.weFormsBuilderisDirty=!1},500),window.onbeforeunload=function(){if(window.weFormsBuilderisDirty)return t.i18n.unsaved_changes}},methods:{makeActive:function(e){this.activeTab=e},isActiveTab:function(e){return this.activeTab===e},isActiveSettingsTab:function(e){return this.activeSettingsTab===e},makeActiveSettingsTab:function(e){this.activeSettingsTab=e},isActivePaymentTab:function(e){return this.activePaymentTab===e},makeActivePaymentTab:function(e){this.activePaymentTab=e},fetchForm:function(){var t=this;t.loading=!0,wp.ajax.send("weforms_get_form",{data:{form_id:this.$route.params.id,_wpnonce:weForms.nonce},success:function(e){t.$store.commit("set_form_post",e.post),t.$store.commit("set_form_fields",e.form_fields),t.$store.commit("set_form_notification",e.notifications),t.$store.commit("set_form_settings",e.settings),void 0!==e.integrations.length?t.$store.commit("set_form_integrations",{}):t.$store.commit("set_form_integrations",e.integrations)},error:function(e){alert(e)},complete:function(){t.loading=!1}})},set_current_panel:function(e){this.$store.commit("set_current_panel",e)},save_form_builder:function(){var t=this;!_.isFunction(this.validate_form_before_submit)||this.validate_form_before_submit()?(t.is_form_saving=!0,t.set_current_panel("form-fields"),wp.ajax.send("wpuf_form_builder_save_form",{data:{form_data:r("#wpuf-form-builder").serialize(),form_fields:JSON.stringify(t.form_fields),notifications:JSON.stringify(t.notifications),settings:JSON.stringify(t.settings),payment:JSON.stringify(t.payment),integrations:JSON.stringify(t.integrations)},success:function(e){e.form_fields&&t.$store.commit("set_form_fields",e.form_fields),t.is_form_saving=!1,t.is_form_saved=!0,setTimeout(function(){window.weFormsBuilderisDirty=!1},500),toastr.success(t.i18n.saved_form_data)},error:function(){t.is_form_saving=!1}})):this.warn({text:this.validation_error_msg})},save_settings:function(){toastr.options.preventDuplicates=!0,this.save_form_builder()},shareForm:function(e,t){var n=this;if("on"===n.settings.sharing_on){var o=e+"?weforms="+btoa(n.getSharingHash()+"_"+Math.floor(Date.now()/1e3)+"_"+t.ID);swal({title:n.i18n.shareYourForm,html:"<p>"+n.i18n.shareYourFormText+'</p> <p><input onClick="this.setSelectionRange(0, this.value.length)" type="text" class="regular-text" value="'+o+'"/> <button class="anonymous-share-btn button button-primary" title="Copy URL" data-clipboard-text="'+o+'"><i class="fa fa-clipboard" aria-hidden="true"></i></button></p>',showCloseButton:!0,showCancelButton:!0,confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger",confirmButtonColor:"#d54e21",confirmButtonText:n.i18n.disableSharing,cancelButtonText:n.i18n.close,focusCancel:!0}).then(function(){swal({title:n.i18n.areYouSure,html:"<p>"+n.i18n.areYouSureDesc+"</p>",type:"info",confirmButtonColor:"#d54e21",showCancelButton:!0,confirmButtonText:n.i18n.disable,cancelButtonText:n.i18n.cancel}).then(function(){n.disableSharing()})})}else swal({title:n.i18n.shareYourForm,html:n.i18n.shareYourFormDesc,type:"info",showCancelButton:!0,confirmButtonText:"Enable",cancelButtonText:"Cancel"}).then(function(){n.enableSharing(e,t)})},enableSharing:function(e,t){this.settings.sharing_on="on",this.save_settings(),this.shareForm(e,t)},disableSharing:function(){this.settings.sharing_on=!1,this.save_settings()},getSharingHash:function(){return this.settings.sharing_hash||(this.settings.sharing_hash=this.makeRandomString(8),this.save_settings()),this.settings.sharing_hash},makeRandomString:function(e){e=e||8;for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},initSharingClipBoard:function(e){var t=new window.Clipboard(".anonymous-share-btn");r(".anonymous-share-btn").tooltip(),t.on("success",function(e){r(e.trigger).attr("data-original-title","Copied!").tooltip("show"),setTimeout(function(){r(e.trigger).tooltip("hide").attr("data-original-title","Copy URL")},1e3),e.clearSelection()})}}},weForms.routeComponents.FormEntries={props:{id:[String,Number]},template:"#tmpl-wpuf-form-entries",data:function(){return{selected:0,form_title:"Loading...",status:"publish",total:0,totalTrash:0}}},weForms.routeComponents.FormEntriesSingle={template:"#tmpl-wpuf-form-entry-single",mixins:[weForms.mixins.Loading,weForms.mixins.Cookie],data:function(){return{loading:!1,hideEmpty:!0,hasEmpty:!1,show_payment_data:!1,entry:{form_fields:{},meta_data:{},payment_data:{}},form_settings:{},respondent_points:0,answers:{},countries:weForms.countries}},created:function(){this.hideEmpty=this.hideEmptyStatus(),this.fetchData()},computed:{hasFormFields:function(){return Object.keys(this.entry.form_fields).length}},methods:{fetchData:function(){var t=this;this.loading=!0,wp.ajax.send("weforms_form_entry_details",{data:{entry_id:t.$route.params.entryid,form_id:t.$route.params.id,_wpnonce:weForms.nonce},success:function(e){t.loading=!1,t.entry=e,t.hasEmpty=e.has_empty,t.form_settings=e.form_settings,t.respondent_points=e.respondent_points,t.answers=e.answers},error:function(e){t.loading=!1,alert(e)}})},trashEntry:function(){var t=this;confirm(weForms.confirm)&&wp.ajax.send("weforms_form_entry_trash",{data:{entry_id:t.$route.params.entryid,_wpnonce:weForms.nonce},success:function(){t.loading=!1,t.$router.push({name:"formEntries",params:{id:t.$route.params.id}})},error:function(e){t.loading=!1,alert(e)}})},hideEmptyStatus:function(){return"false"!==this.getCookie("weFormsEntryHideEmpty")},findCountry:function(t){return this.countries.find(function(e){return e.code===t})},getCountryName:function(e){if(this.findCountry(e))return this.findCountry(e).name},getAddressFieldValue:function(e){var t=e.match(/Country Select:(\s([A-Z])\w+)/g);if(null===t)return e;var n=t[0].substring(15,t[0].length).trim(),o=this.getCountryName(n),i=n;return e.replace(i,o)}},watch:{hideEmpty:function(e){this.setCookie("weFormsEntryHideEmpty",e,356)}}},Vue.component("form-list-table",{template:"#tmpl-wpuf-form-list-table",mixins:[weForms.mixins.Loading,weForms.mixins.Paginate,weForms.mixins.BulkAction],data:function(){return{loading:!1,index:"ID",items:[],bulkDeleteAction:"weforms_form_delete_bulk"}},created:function(){this.fetchData()},computed:{is_pro:function(){return"true"===weForms.is_pro},has_payment:function(){return"true"===weForms.has_payment}},methods:{fetchData:function(){var t=this;this.loading=!0,wp.ajax.send("weforms_form_list",{data:{_wpnonce:weForms.nonce,page:t.currentPage},success:function(e){t.loading=!1,t.items=e.forms,t.totalItems=e.meta.total,t.totalPage=e.meta.pages},error:function(e){t.loading=!1,alert(e)}})},deleteForm:function(t){var n=this;confirm("Are you sure?")&&(n.loading=!0,wp.ajax.send("weforms_form_delete",{data:{form_id:this.items[t].id,_wpnonce:weForms.nonce},success:function(e){n.items.splice(t,1),n.loading=!1},error:function(e){alert(e),n.loading=!1}}))},duplicate:function(e,t){var n=this;this.loading=!0,wp.ajax.send("weforms_form_duplicate",{data:{form_id:e,_wpnonce:weForms.nonce},success:function(e){n.items.splice(0,0,e),n.loading=!1},error:function(e){alert(e),n.loading=!1}})},handleBulkAction:function(){if("-1"!==this.bulkAction){if("delete"===this.bulkAction){if(!this.checkedItems.length)return void alert("Please select atleast one form to delete.");confirm("Are you sure to delete the forms?")&&this.deleteBulk()}}else alert("Please chose a bulk action to perform")},isPendingForm:function(e){return Math.round((new Date).getTime()/1e3)<Math.round(new Date(e).getTime()/1e3)},isExpiredForm:function(e){var t=Math.round((new Date).getTime()/1e3);return Math.round(new Date(e).getTime()/1e3)<t},isOpenForm:function(e,t){var n=Math.round((new Date).getTime()/1e3),o=Math.round(new Date(e).getTime()/1e3),i=Math.round(new Date(t).getTime()/1e3);return o<n&&n<i},isFormStatusClosed:function(e,t){return!("true"!==e.schedule_form||!this.isPendingForm(e.schedule_start))||(!("true"!==e.schedule_form||!this.isExpiredForm(e.schedule_end))||("true"===e.limit_entries&&t>=e.limit_number||void 0))},formatTime:function(e){var t=new Date(e);return t.toLocaleString("en-us",{month:"short"})+" "+t.getDate()+", "+t.getFullYear()}}}),weForms.routeComponents.FormPayments={props:{id:[String,Number]},template:"#tmpl-wpuf-form-payments",data:function(){return{form_title:"Loading..."}}},weForms.routeComponents.Home={template:"#tmpl-wpuf-home-page",data:function(){return{showTemplateModal:!1}},methods:{displayModal:function(){this.showTemplateModal=!0},closeModal:function(){this.showTemplateModal=!1}}},weForms.routeComponents.Tools={template:"#tmpl-wpuf-tools",mixins:[weForms.mixins.Tabs,weForms.mixins.Loading],data:function(){return{activeTab:"export",exportType:"all",loading:!1,forms:[],importButton:"Import",currentStatus:0,responseMessage:"",logs:[],ximport:{current:"",title:"",action:"",message:"",type:"updated",refs:{}}}},computed:{isInitial:function(){return 0===this.currentStatus},isSaving:function(){return 1===this.currentStatus},isSuccess:function(){return 2===this.currentStatus},isFailed:function(){return 3===this.currentStatus},hasRefs:function(){return Object.keys(this.ximport.refs).length},hasLogs:function(){return Object.keys(this.logs).length}},created:function(){this.fetchData(),this.fetchLogs()},methods:{fetchLogs:function(t){var n=this;n.startLoading(t),wp.ajax.send("weforms_read_logs",{data:{_wpnonce:weForms.nonce},success:function(e){n.stopLoading(t),n.logs=e},error:function(){n.stopLoading(t),n.logs=[]}})},deleteLogs:function(t){var n=this;confirm("Are you sure to clear the log file?")&&(n.startLoading(t),wp.ajax.send("weforms_delete_logs",{data:{_wpnonce:weForms.nonce},success:function(e){n.logs=[],n.stopLoading(t),n.fetchLogs()},error:function(e){n.logs=[],n.stopLoading(t),n.fetchLogs()}}))},stopLoading:function(e){(e=r(e)).is("button")?e.removeClass("updating-message").find("span").show():e.is("span")&&e.show().parent().removeClass("updating-message")},startLoading:function(e){(e=r(e)).is("button")?e.addClass("updating-message").find("span").hide():e.is("span")&&e.hide().parent().addClass("updating-message")},fetchData:function(){var t=this;this.loading=!0,wp.ajax.send("weforms_form_names",{data:{_wpnonce:weForms.nonce},success:function(e){t.loading=!1,t.forms=e},error:function(e){t.loading=!1,alert(e)}})},importForm:function(e,t,n){if(t.length){var o=new FormData,i=this;o.append(e,t[0],t[0].name),o.append("action","weforms_import_form"),o.append("_wpnonce",weForms.nonce),i.currentStatus=1,r.ajax({type:"POST",url:window.ajaxurl,data:o,processData:!1,contentType:!1,success:function(e){i.responseMessage=e.data,e.success?i.currentStatus=2:i.currentStatus=3,r(n.target).val("")},error:function(e){console.log(e),i.currentStatus=3},complete:function(){r(n.target).val("")}})}},importx:function(e,t){var n=r(e),o=this;o.ximport.current=t,n.addClass("updating-message").text(n.data("importing")),wp.ajax.send("weforms_import_xforms_"+t,{data:{_wpnonce:weForms.nonce},success:function(e){o.ximport.title=e.title,o.ximport.message=e.message,o.ximport.action=e.action,o.ximport.refs=e.refs},error:function(e){alert(e.message)},complete:function(){n.removeClass("updating-message").text(n.data("original"))}})},replaceX:function(e,t){var n=r(e),o=this;n.addClass("updating-message"),wp.ajax.send("weforms_import_xreplace_"+o.ximport.current,{data:{type:t,_wpnonce:weForms.nonce},success:function(e){"replace"===n.data("type")&&alert(e)},error:function(e){alert(e)},complete:function(){o.ximport.current="",o.ximport.title=""}})}}},weForms.routeComponents.Transactions={template:"#tmpl-wpuf-transactions",data:function(){return{selected:0,no_transactions:!1,forms:{},form_title:"Loading..."}},created:function(){this.get_forms()},methods:{get_forms:function(){var t=this;wp.ajax.send("weforms_form_list",{data:{_wpnonce:weForms.nonce,page:t.currentPage,filter:"transactions"},success:function(e){Object.keys(e.forms).length?(t.forms=e.forms,t.selected=t.forms[Object.keys(t.forms)[0]].id):(t.form_title="No transaction found",t.no_transactions=!0)},error:function(e){alert(e)}})}}},weForms.routeComponents.Help={template:"#tmpl-wpuf-weforms-page-help"},weForms.routeComponents.Privacy={template:"#tmpl-wpuf-weforms-page-privacy"},weForms.routeComponents.Premium={template:"#tmpl-wpuf-weforms-premium",data:function(){return{showModal:!1}}},weForms.routeComponents.Settings={template:"#tmpl-wpuf-weforms-settings",mixins:[weForms.mixins.Loading,weForms.mixins.Cookie],data:function(){return{loading:!1,settings:{email_gateway:"wordpress",credit:!1,permission:"manage_options",gateways:{sendgrid:"",mailgun:"",sparkpost:""},recaptcha:{type:"v2",key:"",secret:""}},activeTab:"general"}},computed:{is_pro:function(){return"true"===weForms.is_pro}},created:function(){this.fetchSettings(),this.getCookie("weforms_settings_active_tab")&&(this.activeTab=this.getCookie("weforms_settings_active_tab"))},methods:{makeActive:function(e){this.activeTab=e},isActiveTab:function(e){return this.activeTab===e},fetchSettings:function(){var e=this;e.loading=!0,wp.ajax.send("weforms_get_settings",{data:{_wpnonce:weForms.nonce},success:function(n){void 0!==n&&(r.each(e.settings,function(e,t){void 0===n[e]&&(n[e]=t)}),e.settings=n)},complete:function(){e.loading=!1}})},saveSettings:function(e){r(e).addClass("updating-message"),wp.ajax.send("weforms_save_settings",{data:{settings:JSON.stringify(this.settings),_wpnonce:weForms.nonce},success:function(e){toastr.options.timeOut=1e3,toastr.success("Settings has been updated"),weForms.settings=e},error:function(e){console.log(e)},complete:function(){r(e).removeClass("updating-message")}})},post:function(e,t,n){n=n||function(){},(t=t||{})._wpnonce=weForms.nonce,wp.ajax.send(e,{data:t,success:function(e){n(e)},error:function(e){console.log(e)},complete:function(){}})}},watch:{activeTab:function(e){this.setCookie("weforms_settings_active_tab",e,"365")}}},Array.prototype.hasOwnProperty("swap")||(Array.prototype.swap=function(e,t){this.splice(t,0,this.splice(e,1)[0])}),Vue.component("datepicker",{template:'<input type="text" v-bind:value="value" />',props:["value"],mounted:function(){r(this.$el).datetimepicker({dateFormat:"yy-mm-dd",timeFormat:"HH:mm:ss",onClose:this.onClose})},methods:{onClose:function(e){this.$emit("input",e)}}}),Vue.component("weforms-colorpicker",{template:'<input type="text" v-bind:value="value" />',props:["value"],mounted:function(){r(this.$el).wpColorPicker({change:this.onChange})},methods:{onChange:function(e,t){this.$emit("input",t.color.toString())}}});var e=new Vuex.Store({state:{post:{},form_fields:[],panel_sections:wpuf_form_builder.panel_sections,field_settings:wpuf_form_builder.field_settings,notifications:[],settings:{},integrations:{},current_panel:"form-fields",editing_field_id:0},mutations:{set_form_fields:function(e,t){Vue.set(e,"form_fields",t)},set_form_post:function(e,t){Vue.set(e,"post",t)},set_form_notification:function(e,t){Vue.set(e,"notifications",t)},set_form_integrations:function(e,t){Vue.set(e,"integrations",t)},set_form_settings:function(e,t){Vue.set(e,"settings",t)},set_current_panel:function(e,t){"field-options"!==e.current_panel&&"field-options"===t&&e.form_fields.length&&(e.editing_field_id=e.form_fields[0].id),"form-fields"===(e.current_panel=t)&&(e.editing_field_id=0)},panel_add_show_prop:function(n){n.panel_sections.map(function(e,t){e.hasOwnProperty("show")||Vue.set(n.panel_sections[t],"show",!0)})},panel_toggle:function(e,t){e.panel_sections[t].show=!e.panel_sections[t].show},open_field_settings:function(e,t){var n=e.form_fields.filter(function(e){return parseInt(t)===parseInt(e.id)});"field-options"===e.current_panel&&n[0].id===e.editing_field_id||n.length&&(e.editing_field_id=0,e.current_panel="field-options",setTimeout(function(){e.editing_field_id=n[0].id},400))},update_editing_form_field:function(e,t){var n=0;for(n=0;n<e.form_fields.length;n++)if(e.form_fields[n].id===parseInt(t.editing_field_id)&&(e.form_fields[n][t.field_name]=t.value),"column_field"===e.form_fields[n].template){var o=e.form_fields[n].inner_fields;for(var i in o)if(o.hasOwnProperty(i))for(var s=0;s<o[i].length;)o[i][s].id===parseInt(t.editing_field_id)&&(o[i][s][t.field_name]=t.value),s++}},add_form_field_element:function(e,t){e.form_fields.splice(t.toIndex,0,t.field),Vue.nextTick(function(){var e=r("#form-preview-stage .wpuf-form .field-items").eq(t.toIndex);e&&!function(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return 0<=t.top&&0<=t.left&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}(e.get(0))&&r("#builder-stage section").scrollTo(e,800,{offset:-50})})},swap_form_field_elements:function(e,t){e.form_fields.swap(t.fromIndex,t.toIndex)},clone_form_field_element:function(e,t){var n=_.find(e.form_fields,function(e){return parseInt(e.id)===parseInt(t.field_id)}),o=r.extend(!0,{},n),i=parseInt(t.index)+1;o.id=t.new_id,o.name=o.name+"_copy",o.is_new=!0,e.form_fields.splice(i,0,o)},delete_form_field_element:function(e,t){e.current_panel="form-fields",e.form_fields.splice(t,1)},set_panel_section_fields:function(e,t){_.find(e.panel_sections,function(e){return e.id===t.id}).fields=t.fields},addNotification:function(e,t){e.notifications.push(_.clone(t))},deleteNotification:function(e,t){e.notifications.splice(t,1)},cloneNotification:function(e,t){var n=r.extend(!0,{},e.notifications[t]);t=parseInt(t)+1,e.notifications.splice(t,0,n)},updateNotificationProperty:function(e,t){e.notifications[t.index][t.property]=t.value},updateNotification:function(e,t){e.notifications[t.index]=t.value},updateIntegration:function(e,t){Vue.set(e.integrations,t.index,t.value)},add_column_inner_field_element:function(e,t){var n=e.form_fields.findIndex(function(e){return e.id===t.toWhichColumnField});(void 0===e.form_fields[n].inner_fields[t.toWhichColumn]&&(e.form_fields[n].inner_fields[t.toWhichColumn]=[]),void 0!==e.form_fields[n].inner_fields[t.toWhichColumn])&&(e.form_fields[n].inner_fields[t.toWhichColumn].filter(function(e){return e.name===t.field.name}).length<=0&&e.form_fields[n].inner_fields[t.toWhichColumn].splice(t.toIndex,0,t.field))},move_column_inner_fields:function(t,n){var o=t.form_fields.findIndex(function(e){return e.id===n.field_id}),i=n.inner_fields,s=[];Object.keys(i).forEach(function(e){"column-1"===n.move_to&&(i[e].forEach(function(e){s.push(e)}),t.form_fields[o].inner_fields[e].splice(0,i[e].length)),"column-2"===n.move_to&&("column-2"!==e&&"column-3"!==e||(i[e].forEach(function(e){s.push(e)}),t.form_fields[o].inner_fields[e].splice(0,i[e].length)))}),0!==s.length&&s.forEach(function(e){t.form_fields[o].inner_fields[n.move_to].splice(0,0,e)})},swap_column_field_elements:function(e,t){var n=e.form_fields.findIndex(function(e){return e.id===t.field_id}),o=e.form_fields[n].inner_fields[t.fromColumn][t.fromIndex];t.fromColumn!==t.toColumn?(e.form_fields[n].inner_fields[t.toColumn].splice(t.toIndex,0,o),e.form_fields[n].inner_fields[t.fromColumn].splice(t.fromIndex,1)):e.form_fields[n].inner_fields[t.toColumn].swap(t.fromIndex,t.toIndex)},open_column_field_settings:function(e,t){var n=t.column_field;"field-options"===e.current_panel&&n.id===e.editing_field_id||n&&(e.editing_field_id=0,e.current_panel="field-options",e.editing_field_type="column_field",e.editing_column_field_id=t.field_id,e.edting_field_column=t.column,e.editing_inner_field_index=t.index,setTimeout(function(){e.editing_field_id=n.id},400))},clone_column_field_element:function(e,t){var n=e.form_fields.findIndex(function(e){return e.id===t.field_id}),o=_.find(e.form_fields[n].inner_fields[t.toColumn],function(e){return parseInt(e.id)===parseInt(t.column_field_id)}),i=r.extend(!0,{},o),s=parseInt(t.index)+1;i.id=t.new_id,i.name=i.name+"_copy",i.is_new=!0,e.form_fields[n].inner_fields[t.toColumn].splice(s,0,i)},delete_column_field_element:function(e,t){var n=e.form_fields.findIndex(function(e){return e.id===t.field_id});e.current_panel="form-fields",e.form_fields[n].inner_fields[t.fromColumn].splice(t.index,1)}}});weForms.routeComponents.FormHome={template:'<div><router-view class="child"></router-view></div>'},weForms.routeComponents.SingleForm={template:"#tmpl-wpuf-form-editor"},weForms.routeComponents.FormEntriesHome={template:'<div><router-view class="grand-child"></router-view></div>'},function e(t){for(var n=0;n<t.length;n++)"object"===_typeof(t[n].children)?(e(t[n].children),void 0!==t[n].component&&(t[n].component=weForms.routeComponents[t[n].component])):t[n].component=weForms.routeComponents[t[n].component]}(weForms.routes);var t=new VueRouter({routes:weForms.routes,scrollBehavior:function(e,t,n){return n||{x:0,y:0}}});window.weFormsBuilderisDirty=!1,t.beforeEach(function(e,t,n){if(window.weFormsBuilderisDirty){if(!confirm(wpuf_form_builder.i18n.unsaved_changes+" "+wpuf_form_builder.i18n.areYouSureToLeave))return n(t.path),!1;window.weFormsBuilderisDirty=!1}n()}),weForms.validators={is_recaptcha_v2:function(){return"v2"===weForms.settings.recaptcha.type}};new Vue({router:t,store:e}).$mount("#wpuf-contact-form-app");var o=r("#toplevel_page_weforms");o.on("click","a",function(){var e=r(this);r("ul.wp-submenu li",o).removeClass("current"),e.hasClass("wp-has-submenu")?r("li.wp-first-item",o).addClass("current"):e.parents("li").addClass("current")}),r(function(){var e=window.location.href,n=e.substr(e.indexOf("admin.php"));r("ul.wp-submenu a",o).each(function(e,t){r(t).attr("href")!==n||r(t).parent().addClass("current")})})}(jQuery);